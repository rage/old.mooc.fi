{"version":3,"sources":["util/trackHeight.js","contexes/LanguageContext.js","Router.js","util/initGa.js","components/NewContentPopup.js","registerServiceWorker.js","App.js","index.js"],"names":["createGlobalStyle","_templateObject","saveHeight","element","height","style","setProperty","calculateElementHeightOffScreen","Promise","resolve","classList","add","setTimeout","getBoundingClientRect","remove","calculateElementHeight","_ref","Object","_home_henrik_Code_mooc_fi_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_henrik_Code_mooc_fi_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","_element$getBoundingC","wrap","_context","prev","next","sent","stop","_x","apply","this","arguments","trackElementHeight","__webpack_exports__","window","addEventListener","document","querySelectorAll","forEach","e","languages","finnish","english","defaultValue","LanguageContext","createContext","withContext","Children","language","_Component","_class","_home_henrik_Code_mooc_fi_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_home_henrik_Code_mooc_fi_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_henrik_Code_mooc_fi_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","_home_henrik_Code_mooc_fi_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_home_henrik_Code_mooc_fi_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","value","react__WEBPACK_IMPORTED_MODULE_5___default","createElement","Provider","props","Component","history","createBrowserHistory","Index","loadable","all","__webpack_require__","then","bind","Account","Redirector","TeacherGuide","NotFoundPage","RegisterCompletionPage","i","s","o","r","m","q","push","l","Date","getElementsByTagName","async","src","parentNode","insertBefore","ga","listen","location","pathname","initGa","Router","react_default","react_router","react","exact","path","component","StyledInfoIcon","styled","InfoIcon","StyledTypography","Typography","_templateObject2","NewContentPopup","state","open","handleClick","_this","setState","handleClose","event","reason","handleRefresh","reload","Snackbar_default","anchorOrigin","vertical","horizontal","updateAvailable","onClose","ContentProps","aria-describedby","message","action","Button_default","variant","color","size","onClick","IconButton_default","aria-label","Close_default","React","Boolean","hostname","match","unregister","navigator","serviceWorker","ready","registration","App","onUpdateAvailable","trackHeight","NewContentPopup_NewContentPopup","snapSaveState","getState","unregisterAndClearCaches","console","error","rootElement","getElementById","registrations","unregisterPromises","allCaches","cacheDeletionPromises","regenerator_default","getRegistrations","map","caches","keys","cache","delete","concat","toConsumableArray","hasChildNodes","loadComponents","hydrate","App_App","render"],"mappings":"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","file":"static/js/main.1e887e54.chunk.js","sourcesContent":["// Used for animations\nimport { createGlobalStyle } from \"styled-components\";\n\ncreateGlobalStyle`\n  .render-element-off-screen-for-measurement {\n    position: absolute !important;\n    top: -100000px !important;\n    height: auto !important;\n  }\n`;\n\nconst saveHeight = (element, height) => {\n  element.style.setProperty(\"--calculated-height\", height);\n};\n\nconst calculateElementHeightOffScreen = element => {\n  return new Promise(resolve => {\n    element.classList.add(\"render-element-off-screen-for-measurement\");\n    setTimeout(() => {\n      const height = element.getBoundingClientRect().height;\n      element.classList.remove(\"render-element-off-screen-for-measurement\");\n      resolve(height);\n    }, 100);\n  });\n};\n\nconst calculateElementHeight = async element => {\n  let { height } = element.getBoundingClientRect();\n  if (height === 0) {\n    height = await calculateElementHeightOffScreen(element);\n  }\n  saveHeight(element, height);\n};\n\nexport const trackElementHeight = element => {\n  element.classList.add(\"track-element-height-changes-for-animations\");\n  calculateElementHeight(element);\n};\n\nexport default () => {\n  window.addEventListener(\"resize\", () => {\n    document\n      .querySelectorAll(\".track-element-height-changes-for-animations\")\n      .forEach(e => {\n        calculateElementHeight(e);\n      });\n  });\n};\n","import React, { createContext, Component } from \"react\";\n\nexport const languages = {\n  finnish: \"finnish\",\n  english: \"english\"\n};\n\nconst defaultValue = languages.finnish;\n\nconst LanguageContext = createContext(defaultValue);\n\nexport const withContext = (Children, language) => {\n  return class extends Component {\n    render() {\n      return (\n        <LanguageContext.Provider value={language}>\n          <Children {...this.props} />\n        </LanguageContext.Provider>\n      );\n    }\n  };\n};\n\nexport default LanguageContext;\n","import React, { Fragment } from \"react\";\nimport { Switch, Router, Route } from \"react-router-dom\";\nimport { languages, withContext } from \"./contexes/LanguageContext\";\nimport loadable from \"loadable-components\";\nimport { createBrowserHistory } from \"history\";\nimport initGa from \"./util/initGa\";\n\nconst history = createBrowserHistory();\n\nconst Index = loadable(() => import(\"./pages/Index\"));\nconst Account = loadable(() => import(\"./pages/Account\"));\nconst Redirector = loadable(() => import(\"./pages/Redirector\"));\nconst TeacherGuide = loadable(() => import(\"./pages/TeacherGuide\"));\nconst NotFoundPage = loadable(() => import(\"./pages/404\"));\nconst RegisterCompletionPage = loadable(() =>\n  import(\"./pages/RegisterCompletion\")\n);\n\ninitGa(history);\n\nexport default () => (\n  <Router history={history}>\n    <Fragment>\n      <Switch>\n        <Route exact path=\"/\" component={Index} />\n        <Route exact path=\"/fi\" component={Index} />\n        <Route\n          exact\n          path=\"/en\"\n          component={withContext(Index, languages.english)}\n        />\n        <Route exact path=\"/account\" component={Account} />\n        <Route exact path=\"/teachers\" component={TeacherGuide} />\n        <Route exact path=\"/404\" component={NotFoundPage} />\n        <Route\n          path=\"/register-completion/:course_slug\"\n          component={RegisterCompletionPage}\n        />\n        <Route\n          path=\"/en/register-completion/:course_slug\"\n          component={withContext(RegisterCompletionPage, languages.english)}\n        />\n        <Route\n          exact\n          path=\"/en/account\"\n          component={withContext(Account, languages.english)}\n        />\n        <Route\n          exact\n          path=\"/en/teachers\"\n          component={withContext(TeacherGuide, languages.english)}\n        />\n        <Route\n          exact\n          path=\"/en/404\"\n          component={withContext(NotFoundPage, languages.english)}\n        />\n        <Route component={Redirector} />\n      </Switch>\n    </Fragment>\n  </Router>\n);\n","/* eslint-disable */\nexport default history => {\n  if (process.env.NODE_ENV !== \"production\") {\n    return;\n  }\n  (function(i, s, o, g, r, a, m) {\n    i[\"GoogleAnalyticsObject\"] = r;\n    (i[r] =\n      i[r] ||\n      function() {\n        (i[r].q = i[r].q || []).push(arguments);\n      }),\n      (i[r].l = 1 * new Date());\n    (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);\n    a.async = 1;\n    a.src = g;\n    m.parentNode.insertBefore(a, m);\n  })(\n    window,\n    document,\n    \"script\",\n    \"https://www.google-analytics.com/analytics.js\",\n    \"ga\"\n  );\n\n  window.ga(\"create\", \"UA-47575342-4\", \"auto\");\n  window.ga(\"set\", \"anonymizeIp\", true);\n  window.ga(\"require\", \"displayfeatures\");\n  window.ga(\"send\", \"pageview\");\n\n  history.listen(location => {\n    window.ga(\"send\", \"pageview\", location.pathname);\n  });\n};\n","import React, { Fragment } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport styled from \"styled-components\";\nimport { Typography } from \"@material-ui/core\";\n\nconst StyledInfoIcon = styled(InfoIcon)`\n  vertical-align: middle;\n  margin-right: 0.5rem;\n`;\n\nconst StyledTypography = styled(Typography)`\n  display: inline-block !important;\n  color: white !important;\n`;\n\nexport default class NewContentPopup extends React.Component {\n  state = {\n    open: true,\n  };\n\n  handleClick = () => {\n    this.setState({ open: true });\n  };\n\n  handleClose = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    this.setState({ open: false });\n  };\n\n  handleRefresh = () => {\n    window.location.reload();\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <Snackbar\n          anchorOrigin={{ vertical: \"bottom\", horizontal: \"left\" }}\n          open={this.state.open && this.props.updateAvailable}\n          onClose={this.handleClose}\n          ContentProps={{ \"aria-describedby\": \"message-id\" }}\n          message={\n            <Fragment>\n              <StyledInfoIcon />\n              <StyledTypography>\n                An updated version of this page is available.\n              </StyledTypography>\n            </Fragment>\n          }\n          action={[\n            <Button\n              variant=\"raised\"\n              key=\"refresh\"\n              color=\"secondary\"\n              size=\"small\"\n              onClick={this.handleRefresh}\n            >\n              REFRESH\n            </Button>,\n            <IconButton\n              key=\"close\"\n              aria-label=\"Close\"\n              color=\"inherit\"\n              onClick={this.handleClose}\n            >\n              <CloseIcon />\n            </IconButton>,\n          ]}\n        />\n      </Fragment>\n    );\n  }\n}\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register(onUpdateAvailable) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://goo.gl/SC7cgQ\"\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, onUpdateAvailable);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, onUpdateAvailable) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log(\"New content is available; please refresh.\");\n              if (onUpdateAvailable) {\n                onUpdateAvailable();\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get(\"content-type\").indexOf(\"javascript\") === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React, { Fragment } from \"react\";\nimport Router from \"./Router\";\n\nimport trackHeight from \"./util/trackHeight\";\nimport NewContentPopup from \"./components/NewContentPopup\";\nimport { unregister } from \"./registerServiceWorker\";\n\nexport default class App extends React.Component {\n  state = {\n    updateAvailable: false,\n  };\n\n  componentDidMount() {\n    trackHeight();\n    unregister()\n  }\n\n  onUpdateAvailable = () => {\n    this.setState({ updateAvailable: true });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <Router />\n        <NewContentPopup updateAvailable={this.state.updateAvailable} />\n      </Fragment>\n    );\n  }\n}\n","import React from \"react\";\nimport { render, hydrate } from \"react-dom\";\nimport { loadComponents, getState } from \"loadable-components\";\nimport App from \"./App\";\n\nimport \"typeface-roboto\";\nimport \"typeface-open-sans-condensed\";\nimport { unregister } from \"./registerServiceWorker\";\n\nwindow.snapSaveState = () => getState();\n\nunregister();\ntry {\n  unregisterAndClearCaches();\n} catch (e) {\n  console.error(e);\n}\n\nconst rootElement = document.getElementById(\"root\");\nif (rootElement.hasChildNodes()) {\n  loadComponents().then(() => {\n    hydrate(<App />, rootElement);\n  });\n} else {\n  render(<App />, rootElement);\n}\n\nasync function unregisterAndClearCaches() {\n  const registrations = await navigator.serviceWorker.getRegistrations();\n  const unregisterPromises = registrations.map(registration =>\n    registration.unregister()\n  );\n\n  const allCaches = await caches.keys();\n  const cacheDeletionPromises = allCaches.map(cache => caches.delete(cache));\n\n  await Promise.all([...unregisterPromises, ...cacheDeletionPromises]);\n}\n"],"sourceRoot":""}